// Test for constant expressions
// This program verifies whether the compiler performs constant folding correctly.
// - Implicit type conversion between int, float, and double is allowed, but may produce warnings.
// - String literals can be concatenated.

void main() {
    {
    // Integer expressions
    const int a = ((2 + 3) * (4 - 1)) / (1 + 1); // ((5*3)/2) = 7
    const int b = (a + 5) % 4;                  // (7 + 5) % 4 = 0
    const int c = -a + b * 3;                   // -7 + 0 = -7
    const int d = (c + 10) * (b + 1);           // (3) * (1) = 3
    }

    {
    // Floating-point expressions
    const float f1 = ((1.1 + 2.2) * 3.3) / (4.4 - 1.1); // ((3.3*3.3)/3.3) = 3.3
    const float f2 = (f1 - 1.1) + (2.0 * 2.0);          // 2.2 + 4 = 6.2
    }

    {
    // Boolean logic expressions
    const bool a = !(true && false) || false;          // true
    const bool b = (true || false) && (!false);        // true
    const bool c = a && b && (!a || b);                // true
    const bool d = a && false || b && true;            // true
    }

    {
    // Nested arithmetic expressions
    const int complex = ((2 + 3 * (4 + 5)) - ((1 + 1) * 2)) / 3; // ((2+3*9)-4)/3 = (2+27-4)/3 = 25/3 = 8
    const bool logic = (complex > 5) && (complex < 10);         // true && true = true
    }

    {
    // Mixed-type expressions
    const int i = 5;
    const float f = 2.5;
    const bool b = true;
    const float result = i + f * 3;               // 5 + 7.5 = 12.5
    }

    // String concatenation
    {
    const string str1 = "Hello, ";
    const string str2 = "World!";
    const string str3 = str1 + str2;              // "Hello, World!"
    const string str4 = str3 + " How are you?";  // "Hello, World! How are you?"
    const string str5 = "The result is: " + "what"; // "The result is: Hello, World! How are you?"
    }

    const int a = 3 + 3 + "rer"; // Error: "rer" is a string, not an integer
    const int b = 3 * 3 / 0; // Error: division by zero
    const int c = 3 + 3 % 0; // Error: division by zero
    const int d = 34 / (23 * 3 * 0);  // Error: division by zero
}
